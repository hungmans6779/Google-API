<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>無標題文件</title>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=true_or_false
      &amp;key=ABQIAAAASjhnTxkK4PHeTvotGA4KwRTQ5BsKmbHJTAiFcX8GQ-SBdwobzBSE-O4SbValEo6XyYc42W7BlewB4g"
      type="text/javascript">
    </script>
    <script language="javascript">
	//<![CDATA[
	
	    var map;
	    function load(){
		  if(GBrowserIsCompatible()){
		    map=new GMap2(document.getElementById("map"));
			map.enableScrollWheelZoom();			
			var hk=new GKeyboardHandler(map);
			map.addControl(new GMapTypeControl());
			map.addControl(new GLargeMapControl(),new GControlPosition(G_ANCHOR_TOP_LEFT,new GSize(10,10)));
			map.addControl(new GSmallMapControl(),new GControlPosition(G_ANCHOR_BOTTOM_RIGHT,new GSize(10,10)));
			map.addControl(new GScaleControl());
			var gpoint1=new GLatLng(25.0579805152913,121.5400743484497);
			map.setCenter(gpoint1,16);
			var marker=new GMarker(gpoint1);
			map.addOverlay(marker);
			
			GEvent.addListener(map,"click",function(){
			   locate(prompt("請輸入您要查詢的地址："));
			});
			
			
		  }else{
		    alert("無法載入GoogleMap 地圖！！！");
		  }
		}
		
		
		
		function locate(address){
		   var geocorder=new GClientGeocoder();
		   geocorder.getLatLng(address,function(point){
             if(point){
			   map.panTo(point);
			   var marker=new GMarker(point);
			   map.addOverlay(marker);
			 }else{
			    alert("抱歉！找不到你的住址:"+address);
			 }
		   });
		}
	//]]>
	</script>
  
  </head>

  <body onload="load()" onunload="GUnload()" >
    <div id="map" style="width:800px;height:480px" ></div>
  </body>
</html>
