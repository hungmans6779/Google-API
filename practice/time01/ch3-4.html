<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>無標題文件</title>
 <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=true&amp;key=ABQIAAAAXoMn1pOQQMsJyc2wmIpHQBS6FxO6VkPTQuT47nfYpRUsTigyOBTQI_3YqTBelbNCbZeBbKFeYJAz4g" type="text/javascript"></script>
   <script language="javascript">
   //<![CDATA[
      var map;
	  var moveEvent;
	  
	  var myIcon=new GIcon();
	  myIcon.image="http://labs.google.com/ridefinder/images/mm_20_green.png";
	  myIcon.shadow="http://labs.google.com/ridefinder/images/mm_20_shadow.png";
	  myIcon.iconSize=new GSize(12,20);
	  myIcon.shadowSize=new GSize(22,20);
	  myIcon.iconAnchor=new GPoint(6,20);
	  myIcon.infoWindowAnchor=new GPoint(5,1);
	  	
      function load(){	  
	    if(GBrowserIsCompatible()){
		  map=new GMap2(document.getElementById("map"));
		  map.addControl(new GMapTypeControl());
		  map.addControl(new GLargeMapControl(),new GControlPosition(G_ANCHOR_BOTTOM_LEFT,new GSize(10,10)));
		  map.addControl(new GSmallMapControl(),new GControlPosition(G_ANCHOR_BOTTOM_RIGHT,new GSize(10,10)));
		  var gpoint1=new GLatLng(25.0579805152913,121.5400743484497);		 
		  var gpoint2=new GLatLng(25.05838871405201,121.53923749923706);		  
		  		 		
		  map.setCenter(gpoint1,16);
		  
		  var gm1=new GMarker(gpoint1,{title:"我有title了"});

		  //var gm2=new GMarker(gpoint2,{icon:myIcon,title:"這是我的新icson"});		  
		  var gm2=new GMarker(gpoint2,{icon:myIcon,title:"這是我的新icson"});		  
		  map.addOverlay(gm1);
		  map.addOverlay(gm2);
		  
		  moveEvent=GEvent.addListener(map,"move",getXYAxis);
		  getXYAxis();
		}else{
		  alert("載入GoogleMap 地圖失敗！！！");
		}
	  }
	  
	  
      function getXYAxis(){
	    var latLng=map.getCenter();
		document.getElementById("X").value=latLng.lat();
		document.getElementById("Y").value=latLng.lng();
	  }	  
	  
	  
	  
	  function addMoveEvent(){
	    moveEvent=GEvent.addListener(map,"move",getXYAxis);
	  }
	  
	  
	  function removeMoveEvent(){
	    GEvent.removeListener(moveEvent);
	  }
	  
	  
	  
	  function showInfo(){
	    var latLng=map.getCenter();
	    map.showMapBlowup(latLng);
	  }
	  
   //]]>
   </script>
  </head>

  <body onload="load()" onunload="GUnload()" >
    <div id="map" style="width:480px;height:320px" align="center" ></div><br />
    
    緯度：<input type="text" id="X" size="30" /><br>
    經度：<input type="text" id="Y" size="30" /><br>
    <input type="button" value="顯示視窗資訊" onclick="showInfo()" /><Br />
    <input type="button" value="增加滑鼠移動事件" onclick="addMoveEvent()" />
    <input type="button" value="移除滑鼠移動事件" onclick="removeMoveEvent()" /><br />
    
  </body>
</html>
