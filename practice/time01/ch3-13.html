<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>無標題文件</title>  
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=true_or_false
      &amp;key=ABQIAAAASjhnTxkK4PHeTvotGA4KwRTQ5BsKmbHJTAiFcX8GQ-SBdwobzBSE-O4SbValEo6XyYc42W7BlewB4g"
      type="text/javascript">
    </script>
    <script language="javascript">
	//<![CDATA[
	
	
  	   function updateInfo(sourceObj,words){
	      sourceObj.innerText=words;
	   }
	   
	   var map;	   
	   function load(){
	     var eventInfo=document.getElementById("eventInfo");
		 var mapInfo=document.getElementById("mapInfo");
		 var zoomInfo=document.getElementById("zoomInfo");
		 var mapTypeInfo=document.getElementById("mapTypeInfo");
		 if(GBrowserIsCompatible()){
		   map=new GMap2(document.getElementById("map"));
		   map.addControl(new GMapTypeControl());
		   map.addControl(new GLargeMapControl(),new GControlPosition(G_ANCHOR_TOP_LEFT,new GSize(10,10)));
		   map.addControl(new GSmallMapControl,new GControlPosition(G_ANCHOR_BOTTOM_RIGHT,new GSize(10,10)));
		   var gpoint1=new GLatLng(25.0579805152913,121.5400743484497);
		   map.setCenter(gpoint1,16);
		   
		   GEvent.addListener(map,"dragstart",function(){
		     updateInfo(eventInfo,"這是dragstart事件");
		   });
		   
		   
		   GEvent.addListener(map,"drag",function(){
 		     updateInfo(eventInfo,"這是drag事件");
			 updateInfo(mapInfo,"地圖中心的 ===> 緯度："+map.getCenter().lat()+",經度："+map.getCenter().lng());			 
		   });
		   
		   
		   GEvent.addListener(map,"dragend",function(){
		     updateInfo(eventInfo,"這是dragend 事件");
			 
		   });
		   
		   
		   GEvent.addListener(map,"zoomstart",function(){
		     updateInfo(eventInfo,"這是zoomstart 的事件");
		   });
		   
		   
		   GEvent.addListener(map,"zoomend",function(){
		     updateInfo(eventInfo,"這是zoomend 的事件");
			 updateInfo(zoomInfo,"倍率："+map.getZoom());
		   });
		   
		   
		   
		   GEvent.addListener(map,"maptypechanged",function(){
		     updateInfo(mapTypeInfo,"這是:"+map.getCurrentMapType().getName(false));
		   });
		 }else{
		   alert("GoogleMap 無法載入");
		 }   
	   }
	   
	   
	   
	  
	//]]>
	</script>
  </head>
  
  
  <body onload="load()"  onunload="GUnload()" >
    <div id="map" style="width:800px;height:480px" ></div><br />
    <span id="eventInfo"     style="color:#FF0000" ></span><br />
    <span id="mapInfo"       style="color:blue" ></span><Br />
    <span id="zoomInfo"      style="color:#660000" ></span><Br />
    <span id="mapTypeInfo"   style="color:green" ></span><Br />
  </body>
</html>
